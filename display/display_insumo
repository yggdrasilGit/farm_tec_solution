from manager.insumos_manager import InsumoManager


class MenuInsumo:
    def __init__(self):
        self.manager = InsumoManager()

    def exibir_menu(self):
        while True:
            print("\n--- MENU DE INSUMOS ---")
            print("1. Adicionar Insumo")
            print("2. Listar Insumos")
            print("3. Sair")

            escolha = input("Escolha uma opção: ")

            if escolha == "1":
                self.adicionar_insumo()
            elif escolha == "2":
                self.manager.list_all()
            elif escolha == "3":
                print("Saindo...")
                break
            else:
                print("Opção inválida! Tente novamente.")

    def adicionar_insumo(self):
        print("\nEscolha a categoria:")
        print("1. Fertilizante")
        print("2. Adubo")
        print("2. Semente")
        print("3. Veneno")

        categorias = {"1": "Fertilizante", "2":"Adubo", "2": "Semente", "3": "Veneno"}
        escolha = input("Digite o número da categoria: ")

        categoria = categorias.get(escolha)
        if not categoria:
            print("Categoria inválida!")
            return

        nome = input("Nome do insumo: ")
        descricao = input("Descrição do insumo: ")
        quantidade = float(input("Quantidade disponível: "))
        unidade = input("Unidade de medida: ")

        self.manager.create(categoria, nome, descricao, quantidade, unidade)